<!DOCTYPE html>
<html>

<head>
    <meta charset=" UTF-8 ">
    <title>修改密码</title>
    <link rel="stylesheet" href="../../static/bootstrap/css/bootstrap.min.css">
    <script src="../../static/js/jquery-1.11.1.min.js"></script>
    <script src="../../static/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../static/js/jquery.backstretch.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-default navbar-static-top navbar-inverse" role="navigation">
        <div>
            <ul class="nav navbar-nav">
                <li><a href="stuInfo.html" target="_blank">个人信息</a></li>
            </ul>
            <ul class="nav navbar-nav pull-right">
                <li id="exit"><a href="#">安全退出</a></li>
            </ul>
        </div>
    </nav>
    <div class="row">
        <div class="col-md-12 text-center">
            <h3>修改密码</h3>
        </div>
    </div>
    <form >
        <table class="table table-hover">
            <tr>
                <td style="width: 50%;padding-left:40%;">旧密码：</td>
                <td>
                    <input type="password" id="oldpass" />
                </td>
            </tr>
            <tr>
                <td style="width: 50%;padding-left:40%;">新密码：</td>
                <td>
                    <input type="password" id="newpass" />
                </td>
            </tr>
            <tr>
                <td style="width: 50%;padding-left:40%;">确认密码：</td>
                <td>
                    <input type="password" id="confirmpass" />
                </td>
            </tr>
        </table>
    </form>
    <div style="text-align:center">
        <input type="button" id="submit" class="btn btn-default" style="margin-right: 20px" value="提交" />
        <input type="reset" id="reset" class="btn btn-danger" style="margin-left: 20px" value="重置" />
    </div>
    <script type="text/javascript">
    window.onload = function() {
        var reset = document.getElementById('reset');
        var fm = document.getElementsByTagName('form')[0];
        var passModifyMess = document.getElementById('passModifyMess');
        reset.onclick = function() {
            oldpass.value = '';
            newpass.value = '';
            confirmpass.value = '';
            code.value = '';
            oldpass.focus();
        };
        fm.onsubmit = function() {
            if (!/^\w{6,20}/.test(oldpass.value)) {
                passModifyMess.innerHTML = "∗旧密码错误！";
                oldpass.value = "";
                oldpass.focus();
                return false;
            }
            if (!/\w6,20/.test(newpass.value)) {
                passModifyMess.innerHTML = "* 新密码不合法！";
                newpass.value = '';
                newpass.focus();
                return false;
            }
            if (newpass.value != confirmpass.value) {
                passModifyMess.innerHTML = "* 两次输入的新密码不一致，请重新输入！";
                newpass.value = '';
                confirmpass.value = '';
                newpass.focus();
                return false;
            }
            if (!/^\d{4}$/.test(code.value)) {
                passModifyMess.innerHTML = "* 验证码错误！";
                code.value = '';
                code.focus();
                return false;
            }
            return true;
        };
    };
    </script>
</body>

</html>
